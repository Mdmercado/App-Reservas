{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","paginaSiguiente","paginaAnterior","botonesPaginador","mostrarResumen","nombreCita","fechaCita","NoFechaAnterior","horaCita","async","resultado","fetch","db","json","forEach","element","id","precio","nombreService","document","createElement","textContent","classList","add","precioService","servicioDiv","dataset","idServicio","onclick","seleccionarServicio","appendChild","querySelector","error","e","elemento","target","tagName","parentElement","contains","remove","eliminarServicio","parseInt","agregarServicio","firstChild","nextElementSibling","filter","servicio","console","log","servicioObj","seccionAnterior","tabAnterior","querySelectorAll","enlace","addEventListener","preventDefault","paso","resumenDiv","innerHTML","Object","values","includes","NoServicios","headingCitas","servicioCita","headingServicio","cantidad","divServicio","textoServicio","precioServicio","totalServicio","split","trim","cantidadA_pagar","nombreTexto","value","length","mostrarAlerta","alerta","mensaje","tipo","setTimeout","fechaInput","elDia","Date","getUTCDay","inputFecha","fechaAhora","year","getFullYear","mes","getMonth","dia","getDate","fechaDeshabilitada","min","inputHora"],"mappings":"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","file":"bundle.js","sourcesContent":["let pagina = 1;\r\nconst cita = {\r\n\tnombre: \"\",\r\n\tfecha: \"\",\r\n\thora: \"\",\r\n\tservicios: [],\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tiniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n\tmostrarServicios();\r\n\t// resalta el div actual segun el tab que se presiona\r\n\tmostrarSeccion();\r\n\t// oculta o muestra seccion segun el tab que se presiona\r\n\tcambiarSeccion();\r\n\t//paginaciÃ³n\r\n\tpaginaSiguiente();\r\n\tpaginaAnterior();\r\n\t//Comprueba pagina actual\r\n\tbotonesPaginador();\r\n\t// Muestra resumen de cita/error\r\n\tmostrarResumen();\r\n\t//Almacenar nombre en el objeto\r\n\tnombreCita();\r\n\t//Almacenar fecha en el objeto\r\n\tfechaCita();\r\n\t//Deshabilitar fechas anteriores\r\n\tNoFechaAnterior();\r\n\t//Almacenar hora\r\n\thoraCita();\r\n}\r\n\r\nasync function mostrarServicios() {\r\n\ttry {\r\n\t\tconst resultado = await fetch(\"./servicios.json\");\r\n\t\tconst db = await resultado.json();\r\n\t\tconst { servicios } = db;\r\n\t\t// generar html\r\n\r\n\t\tservicios.forEach((element) => {\r\n\t\t\tconst { id, nombre, precio } = element;\r\n\r\n\t\t\t//DOM\r\n\t\t\t//Genero los nombres de los servicios\r\n\t\t\tconst nombreService = document.createElement(\"p\");\r\n\t\t\tnombreService.textContent = nombre;\r\n\t\t\tnombreService.classList.add(\"nombre-servicio\");\r\n\r\n\t\t\t//Generar Precios de los servicios\r\n\t\t\tconst precioService = document.createElement(\"p\");\r\n\t\t\tprecioService.textContent = `$ ${precio}`;\r\n\t\t\tprecioService.classList.add(\"precio-servicio\");\r\n\r\n\t\t\t// Generar contenedor de serivicios\r\n\t\t\tconst servicioDiv = document.createElement(\"div\");\r\n\t\t\tservicioDiv.classList.add(\"servicio\");\r\n\t\t\tservicioDiv.dataset.idServicio = id;\r\n\r\n\t\t\t// Seleccionar un servicio un particular\r\n\t\t\tservicioDiv.onclick = seleccionarServicio;\r\n\r\n\t\t\t// ingreso precio y nombre dentro del div\r\n\t\t\tservicioDiv.appendChild(nombreService);\r\n\t\t\tservicioDiv.appendChild(precioService);\r\n\r\n\t\t\t// insertar en HTML\r\n\t\t\tdocument.querySelector(\"#servicios\").appendChild(servicioDiv);\r\n\t\t});\r\n\t} catch (error) {}\r\n}\r\n\r\nfunction seleccionarServicio(e) {\r\n\tlet elemento;\r\n\r\n\t// forzar elemento a que sea div\r\n\tif (e.target.tagName === \"P\") {\r\n\t\telemento = e.target.parentElement;\r\n\t} else {\r\n\t\telemento = e.target;\r\n\t}\r\n\r\n\tif (elemento.classList.contains(\"seleccionado\")) {\r\n\t\telemento.classList.remove(\"seleccionado\");\r\n\t\tconst id = parseInt(elemento.dataset.idServicio);\r\n\r\n\t\teliminarServicio(id);\r\n\t} else {\r\n\t\telemento.classList.add(\"seleccionado\");\r\n\t\t// construir el objeto\r\n\t\tconst servicioObj = {\r\n\t\t\tid: parseInt(elemento.dataset.idServicio),\r\n\t\t\tnombre: elemento.firstChild.textContent,\r\n\t\t\tprecio: elemento.firstChild.nextElementSibling.textContent,\r\n\t\t};\r\n\r\n\t\tagregarServicio(servicioObj);\r\n\t}\r\n}\r\n// defino funciones de objetos\r\nfunction eliminarServicio(id) {\r\n\tconst { servicios } = cita;\r\n\tcita.servicios = servicios.filter((servicio) => servicio.id !== id); // filtro los servicios dif a mi id\r\n\tconsole.log(cita);\r\n}\r\nfunction agregarServicio(servicioObj) {\r\n\t// destructuring\r\n\tconst { servicios } = cita;\r\n\tcita.servicios = [...servicios, servicioObj]; // copio el objeto\r\n}\r\n// fin funciones de objeto\r\nfunction mostrarSeccion() {\r\n\t//Eliminar mostrar-seccion de la seccion anterior\r\n\tconst seccionAnterior = document.querySelector(\".mostrar-seccion\");\r\n\tif (seccionAnterior) {\r\n\t\tseccionAnterior.classList.remove(\"mostrar-seccion\");\r\n\t}\r\n\r\n\tconst seccionActual = document.querySelector(`#paso-${pagina}`);\r\n\tseccionActual.classList.add(\"mostrar-seccion\");\r\n\r\n\t// eliminar la clase actual de tab anterior\r\n\tconst tabAnterior = document.querySelector(\".tabs .actual\");\r\n\tif (tabAnterior) {\r\n\t\ttabAnterior.classList.remove(\"actual\");\r\n\t}\r\n\r\n\t// tab actual\r\n\tconst tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n\ttab.classList.add(\"actual\");\r\n}\r\n\r\nfunction cambiarSeccion() {\r\n\tconst enlaces = document.querySelectorAll(\".tabs button\");\r\n\r\n\tenlaces.forEach((enlace) => {\r\n\t\tenlace.addEventListener(\"click\", (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tpagina = parseInt(e.target.dataset.paso);\r\n\r\n\t\t\t//llamo a mostrar\r\n\t\t\tmostrarSeccion();\r\n\t\t\t// llamo a paginar\r\n\t\t\tbotonesPaginador();\r\n\t\t});\r\n\t});\r\n}\r\n\r\nfunction paginaSiguiente() {\r\n\tconst paginaSiguiente = document.querySelector(\"#siguiente\");\r\n\tpaginaSiguiente.addEventListener(\"click\", () => {\r\n\t\tpagina++;\r\n\t\tbotonesPaginador();\r\n\t});\r\n}\r\n\r\nfunction paginaAnterior() {\r\n\tconst paginaAnterior = document.querySelector(\"#anterior\");\r\n\tpaginaAnterior.addEventListener(\"click\", () => {\r\n\t\tpagina--;\r\n\t\tbotonesPaginador();\r\n\t});\r\n}\r\n\r\nfunction botonesPaginador() {\r\n\tconst paginaSiguiente = document.querySelector(\"#siguiente\");\r\n\tconst paginaAnterior = document.querySelector(\"#anterior\");\r\n\tif (pagina == 1) {\r\n\t\tpaginaAnterior.classList.add(\"ocultar\");\r\n\t} else if (pagina == 2) {\r\n\t\tpaginaAnterior.classList.remove(\"ocultar\");\r\n\t\tpaginaSiguiente.classList.remove(\"ocultar\");\r\n\t} else if (pagina == 3) {\r\n\t\tpaginaSiguiente.classList.add(\"ocultar\");\r\n\t\tpaginaAnterior.classList.remove(\"ocultar\");\r\n\t\tmostrarResumen(); // pagina 3 carga resumen\r\n\t}\r\n\r\n\tmostrarSeccion();\r\n}\r\n\r\nfunction mostrarResumen() {\r\n\t// destructuring\r\n\tconst { nombre, fecha, hora, servicios } = cita;\r\n\r\n\t// selecciono el resumen\r\n\tconst resumenDiv = document.querySelector(\".contenido-resumen\");\r\n\r\n\t// limpiar html previo\r\n\tresumenDiv.innerHTML = \"\";\r\n\r\n\t// validacion\r\n\tif (Object.values(cita).includes(\"\")) {\r\n\t\tconst NoServicios = document.createElement(\"P\");\r\n\t\tNoServicios.textContent = \"Faltan datos de servicios, hora, fecha o nombre\";\r\n\t\tNoServicios.classList.add(\"invalidar-cita\");\r\n\r\n\t\t// muestro el error\r\n\r\n\t\tresumenDiv.appendChild(NoServicios);\r\n\t} else {\r\n\t\tconst headingCitas = document.createElement(\"H3\");\r\n\t\theadingCitas.textContent = \"Resumen Reserva\";\r\n\r\n\t\tconst nombreCita = document.createElement(\"P\");\r\n\t\tnombreCita.innerHTML = `<span>Nombre: </span>${nombre}`;\r\n\r\n\t\tconst fechaCita = document.createElement(\"P\");\r\n\t\tfechaCita.innerHTML = `<span>Fecha: </span>${fecha}`;\r\n\r\n\t\tconst horaCita = document.createElement(\"P\");\r\n\t\thoraCita.innerHTML = `<span>Hora: </span>${hora}`;\r\n\r\n\t\tconst servicioCita = document.createElement(\"DIV\");\r\n\t\tservicioCita.classList.add(\"resumen-servicios\");\r\n\r\n\t\tconst headingServicio = document.createElement(\"H3\");\r\n\t\theadingServicio.textContent = \"Resumen de servicios\";\r\n\r\n\t\tservicioCita.appendChild(headingServicio);\r\n\r\n\t\tlet cantidad = 0;\r\n\r\n\t\t// iterar sobre los servicios\r\n\t\tservicios.forEach((e) => {\r\n\t\t\tconst divServicio = document.createElement(\"DIV\");\r\n\t\t\tdivServicio.classList.add(\"contenedor-servicio\");\r\n\r\n\t\t\tconst textoServicio = document.createElement(\"P\");\r\n\t\t\ttextoServicio.textContent = e.nombre;\r\n\r\n\t\t\tconst precioServicio = document.createElement(\"P\");\r\n\t\t\tprecioServicio.textContent = e.precio;\r\n\t\t\tprecioServicio.classList.add(\"precio\");\r\n\r\n\t\t\tconst totalServicio = e.precio.split(\"$\");\r\n\t\t\t//console.log(parseInt(totalServicio[1].trim()));\r\n\t\t\tcantidad += parseInt(totalServicio[1].trim());\r\n\r\n\t\t\tdivServicio.appendChild(textoServicio);\r\n\t\t\tdivServicio.appendChild(precioServicio);\r\n\r\n\t\t\tservicioCita.appendChild(divServicio);\r\n\t\t});\r\n\t\tconsole.log(cantidad);\r\n\t\tresumenDiv.appendChild(headingCitas);\r\n\t\tresumenDiv.appendChild(nombreCita);\r\n\t\tresumenDiv.appendChild(fechaCita);\r\n\t\tresumenDiv.appendChild(horaCita);\r\n\r\n\t\tresumenDiv.appendChild(servicioCita);\r\n\r\n\t\tconst cantidadA_pagar = document.createElement(\"P\");\r\n\t\tcantidadA_pagar.classList.add(\"total\");\r\n\t\tcantidadA_pagar.innerHTML = `<span>Total a Pagar: </span>$${cantidad}`;\r\n\t\tresumenDiv.appendChild(cantidadA_pagar);\r\n\t}\r\n}\r\n\r\nfunction nombreCita() {\r\n\tconst nombreInput = document.querySelector(\"#nombre\");\r\n\r\n\tnombreInput.addEventListener(\"input\", (e) => {\r\n\t\tconst nombreTexto = e.target.value.trim();\r\n\t\t// validacion\r\n\r\n\t\tif (nombreTexto === \"\" || nombreTexto.length < 3) {\r\n\t\t\tmostrarAlerta(\"Nombre no valido\", \"error\");\r\n\t\t} else {\r\n\t\t\tconst alerta = document.querySelector(\".alerta\");\r\n\t\t\tif (alerta) {\r\n\t\t\t\talerta.remove;\r\n\t\t\t}\r\n\t\t\tcita.nombre = nombreTexto;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo) {\r\n\tconst alertaPrevia = document.querySelector(\".alerta\");\r\n\tif (alertaPrevia) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst alerta = document.createElement(\"DIV\");\r\n\talerta.textContent = mensaje;\r\n\talerta.classList.add(\"alerta\");\r\n\r\n\tif (tipo === \"error\") {\r\n\t\talerta.classList.add(\"error\");\r\n\t}\r\n\r\n\t// insertar en html\r\n\tconst formulario = document.querySelector(\".formulario\");\r\n\tformulario.appendChild(alerta);\r\n\r\n\t//eliminar alerta luego de 3s\r\n\tsetTimeout(() => {\r\n\t\talerta.remove();\r\n\t}, 3000);\r\n}\r\n\r\nfunction fechaCita() {\r\n\tconst fechaInput = document.querySelector(\"#fecha\");\r\n\r\n\tfechaInput.addEventListener(\"input\", (e) => {\r\n\t\tconst elDia = new Date(e.target.value).getUTCDay(); // num de dia 0 a 6\r\n\t\tif ([0, 1].includes(elDia)) {\r\n\t\t\te.preventDefault();\r\n\t\t\tfechaInput.value = \"\";\r\n\t\t\tmostrarAlerta(\"No se trabaja domingo ni lunes\", \"error\");\r\n\t\t} else {\r\n\t\t\tcita.fecha = fechaInput.value;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction NoFechaAnterior() {\r\n\tconst inputFecha = document.querySelector(\"#fecha\");\r\n\tconst fechaAhora = new Date();\r\n\tconst year = fechaAhora.getFullYear();\r\n\tlet mes = fechaAhora.getMonth() + 1;\r\n\tlet dia = fechaAhora.getDate() + 1;\r\n\r\n\tif (mes < 10 && dia < 10) {\r\n\t\tmes = `0${mes}`;\r\n\t\tdia = `0${dia}`;\r\n\t}\r\n\tconst fechaDeshabilitada = `${year}-${mes}-${dia}`;\r\n\tinputFecha.min = fechaDeshabilitada;\r\n}\r\n\r\nfunction horaCita() {\r\n\tconst inputHora = document.querySelector(\"#hora\");\r\n\r\n\tinputHora.addEventListener(\"input\", (e) => {\r\n\t\tconst horaCita = e.target.value;\r\n\t\tconst hora = horaCita.split(\":\");\r\n\t\tif (hora[0] < 9 || hora[0] > 20) {\r\n\t\t\tmostrarAlerta(\"Horario no disponible\", \"error\");\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tinputHora.value = \"\";\r\n\t\t\t}, 3000);\r\n\t\t} else {\r\n\t\t\tcita.hora = horaCita;\r\n\t\t}\r\n\t});\r\n}\r\n"]}